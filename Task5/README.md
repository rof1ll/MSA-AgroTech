Задание 5. Проектирование эволюции MVP в SaaS-платформу

После успешного внедрения MVP на своих фермах компания собирается вывести решение как коммерческую SaaS-платформу для других агрохолдингов. Это потребует изменений как в архитектуре, так и в бизнес-модели.

### **Требования к SaaS-платформе**

Платформа должна:

- обеспечивать полную изоляцию данных между клиентами;
- поддерживать гибкую систему подписок с разными тарифными планами;
- предоставлять API для интеграции с системами клиентов (варианты прорабатываются);
- иметь панель самообслуживания для управления аккаунтом (однако пока нет специального интерфейса администратора);
- масштабироваться горизонтально по мере роста числа клиентов;
- собирать метрики использования для аналитики и биллинга.

Обратите внимание,что для **биллинга и монетизации** нужна интеграция с российскими платёжными системами, а для **онбординга** — документация и API для самостоятельной интеграции.

### **Цели бизнеса**

- Создать новый источник регулярного дохода.
- Уменьшить TCO для клиентов за счёт облачной модели.
- Ускорить выход на рынок и масштабирование.
- Собрать данные для создания собственных ML-моделей.

### **Что нужно сделать**

Спроектируйте мультитенантную архитектуру, которая позволит обслуживать несколько клиентов на единой платформе на основе варианта, который был выбран по критериям из Задания 4.

**Задача 1. Проектирование мультитенантной архитектуры**

1. **Создайте новое ADR** со ссылкой на основной вариант из Задания 4. Проработайте два-три варианта изоляции данных с критериями сравнения (изоляция на уровне схем БД, на уровне отдельных БД и на уровне инстансов).
2. **Представьте диаграммы C2** (или C3 при необходимости) для каждого варианта.

**Задача 2. Разработка системы биллинга и монетизации**

1. Добавьте сервисы тарификации и биллинга.
2. Спроектируйте интеграцию с российскими платёжными системами.

**Задача 3. Проработка интеграций с клиентами**

1. Спроектируйте API для клиентов SaaS-платформы.
2. Определите scope доступного функционала.
3. Проработайте вариант предоставления документации для интеграции (dev-порталы).

**Задача 4. Создание финальной архитектуры To-Be**

1. Сформируйте C1 и C2 диаграммы финального варианта SaaS-платформы.
2. Добавьте C2 диаграмму примера интеграции с текущей компанией как клиентом и ее фермами.
3. Включите все схемы в ADR.

**В результате у вас должен получиться ADR, где сформированы:**

1. Диаграммы на уровнях С2 и С3 при необходимости для нескольких вариантов изоляции данных.
2. Диаграммы C1 и С2 финального варианта To-Be решения для SaaS-платформы.
3. Диаграмма уровня С2 для примера интеграции.

Загрузите их в директорию **Task5** вашего репозитория.
